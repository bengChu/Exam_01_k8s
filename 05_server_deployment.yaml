apiVersion: apps/v1
kind: Deployment
metadata:
  name: server-deployment
  labels:
    app: server
spec:
  replicas: 2
  selector:
    matchLabels:
      app: server
  template:
    metadata:
      labels:
        app: server
    spec:
      containers:
      - name: server
        # ‚ö†Ô∏è ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Image Tag ‡πÄ‡∏õ‡πá‡∏ô 6.0 ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏û‡∏¥‡πà‡∏á Build
        image: bength/exam-01-server:6.0 
        ports:
        - containerPort: 3001
        env:
          # üîë ‡∏Å‡∏≥‡∏´‡∏ô‡∏î URI ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ DB
          # ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö User/Pass ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏ô 03_mongodb_deployment.yaml
          # ‡πÉ‡∏ä‡πâ 'mongodb-service' ‡πÅ‡∏•‡∏∞ 'authSource=admin'
          - name: MONGO_URI
            value: "mongodb://ihadmin:ihadmin@mongodb-service:27017/exam01?authSource=admin" 
          - name: JWT_SECRET
            value: "bengbow@ba"
          - name: JWT_EXPIRES_IN
            value: "1h"